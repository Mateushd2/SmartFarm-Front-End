<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Farm</title>
    <script src="script.js"></script>
    <script src="script-index.js"></script>
    <link rel="stylesheet" href="styles-index.css">
</head>

<body>
    <div id="sidebar">
        <div class="sidebar-nav">
            <!-- RNF03: Indicador de status de conexÃ£o -->
            <div id="connection-status" class="status-connected">ğŸŸ¢ Conectado</div>
            <button id="home-btn" onclick="changeView('home')"
                class="p-2 rounded-full bg-blue-500 hover:bg-blue-600 text-white transition-colors duration-300 active"
                title="Home">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9,22 9,12 15,12 15,22"></polyline>
                </svg>
            </button>
            <button id="indicadores-btn" onclick="changeView('indicadores')"
                class="p-2 rounded-full bg-blue-500 hover:bg-blue-600 text-white transition-colors duration-300"
                title="Indicadores/KPIs">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="22,6 13.5,15.5 8.5,10.5 2,17"></polyline>
                    <polyline points="16,6 22,6 22,12"></polyline>
                </svg>
            </button>
            <button id="contato-btn" onclick="changeView('contato')"
                class="p-2 rounded-full bg-blue-500 hover:bg-blue-600 text-white transition-colors duration-300"
                title="Contato/CV">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
            </button>
            <button id="logs-btn" onclick="changeView('logs')"
                class="p-2 rounded-full bg-blue-500 hover:bg-blue-600 text-white transition-colors duration-300"
                title="Logs/Auditoria">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14,2 14,8 20,8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                </svg>
            </button>
        </div>
    </div>

    <div id="main-content">
        <div
            style="display: flex; flex-direction: column; align-items: center; justify-content: center; margin: 30px 0 20px 0;">
            <div style="display: flex; align-items: center; gap: 15px;">
                <img src="icons8-fazenda-100.png" alt="Smart Farm Logo"
                    style="width: 60px; height: 60px; filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));">
                <h1
                    style="color: var(--primary-color); font-size: 3em; font-weight: 700; margin: 0; letter-spacing: -1px;">
                    Smart Farm</h1>
            </div>
            <span id="welcome-message" style="font-size: 0.9em; color: var(--text-color); opacity: 0.8;"></span>
        </div>
        <div style="position: absolute; top: 20px; right: 20px; display: flex; gap: 10px;">
            <button id="theme-toggle-top"
                style="padding: 6px 10px; border-radius: 6px; border: none; font-size: 0.9em; transition: all 0.3s ease;">
                <svg id="moon-icon-top" height="20" class="w-5 h-5" fill="none" stroke="currentColor"
                    viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z">
                    </path>
                </svg>
                <svg id="sun-icon-top" height="20" class="w-5 h-5 hidden" fill="none" stroke="currentColor"
                    viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z">
                    </path>
                </svg>
            </button>
            <button class="logout-btn-top" onclick="logout()" title="Sair"
                style="padding: 6px 10px; border-radius: 6px; border: none; transition: all 0.3s ease;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                    <polyline points="16,17 21,12 16,7"></polyline>
                    <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
            </button>
        </div>
        <div id="user-info"
            style="display: flex; justify-content: flex-end; align-items: center; margin-bottom: 20px; font-size: 0.9em; color: var(--text-color); opacity: 0.8;">
        </div>

        <div id="home-view">
            <div id="data">Carregando dados dos sensores.</div>

            <div id="controls">
                <div id="control-part" style="display: flex; flex-direction: column; gap: 30px;">
                    <div class="actuator-card">
                        <div class="actuator-header">
                            <div class="actuator-title">ğŸ’¡ LED</div>
                            <div class="actuator-status" id="status-LED">Desligado</div>
                        </div>
                        <button id="btn-LED" class="actuator-button" onclick="sendCmd('LED')">ğŸ’¡ Controlar LED</button>
                    </div>

                    <div class="actuator-card">
                        <div class="actuator-header">
                            <div class="actuator-title">ğŸ’¨ Ventilador</div>
                            <div class="actuator-status" id="status-FAN">Desligado</div>
                        </div>
                        <button id="btn-FAN" class="actuator-button" onclick="sendCmd('FAN')">ğŸ’¨ Controlar
                            Ventilador</button>
                    </div>
                </div>

                <div id="control-part" style="display: flex; flex-direction: column; gap: 30px;">
                    <div class="actuator-card">
                        <div class="actuator-header">
                            <div class="actuator-title">ğŸš Alimentar</div>
                            <div class="actuator-status" id="status-FEED">Parado</div>
                        </div>
                        <button id="btn-FEED" class="actuator-button" onclick="sendCmd('FEED')">ğŸš Alimentar
                            Agora</button>
                    </div>

                    <div class="actuator-card">
                        <div class="actuator-header">
                            <div class="actuator-title">ğŸ’§ Regar</div>
                            <div class="actuator-status" id="status-WATER">Parado</div>
                        </div>
                        <button id="btn-WATER" class="actuator-button" onclick="sendCmd('WATER')">ğŸ’§ Regar
                            Agora</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="indicadores-view" class="hidden">

            <div id="legend">
                <span style="color:red;">ğŸŒ¡ï¸ Temperatura</span> |
                <span style="color:blue;">ğŸŒ¦ï¸ Vapor/Chuva</span> |
                <span style="color:orange;">ğŸ’¡ Luz</span> |
                <span style="color:green;">ğŸŒ± Solo</span> |
                <span style="color:cyan;">ğŸš° Ãgua</span>
            </div>

            <canvas id="chartCanvas" width="1000" height="500"></canvas>
        </div>

        <div id="contato-view" class="hidden">
            <div class="contact-grid">
                <div class="contact-card">
                    <h3>Mateus Assis</h3>
                    <p><strong>Email:</strong> <a href="mailto:mateus.202412496@unilasalle.edu.br"
                            style="color: var(--primary-color); text-decoration: none;">ğŸ“§
                            mateus.202412496@unilasalle.edu.br</a></p>
                    <p><strong>Telefone:</strong> <a href="https://wa.me/5551996811589" target="_blank"
                            style="color: var(--primary-color); text-decoration: none;">ğŸ’¬ (51) 996811589</a></p>
                    <p><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/mateus-assis-a103672ba/"
                            target="_blank" style="color: var(--primary-color); text-decoration: none;">Perfil
                            LinkedIn</a></p>
                </div>
                <div class="cv-card">
                    <h3>CurrÃ­culo Vitae</h3>
                    <button onclick="window.open('contacts/matheus-assis/curriculo-mateus-assis.html')"
                        class="cv-btn">Visualizar CV</button>
                </div>
            </div>
            <div class="contact-grid">
                <div class="contact-card">
                    <h3>Matheus Serafim</h3>
                    <p><strong>Email:</strong> <a href="mailto:matheus.202412381@unilasalle.edu.br"
                            style="color: var(--primary-color); text-decoration: none;">ğŸ“§
                            matheus.202412381@unilasalle.edu.br</a></p>
                    <p><strong>Telefone:</strong> <a href="https://wa.me/555199200214" target="_blank"
                            style="color: var(--primary-color); text-decoration: none;">ğŸ’¬ (51) 9920-0214</a></p>
                    <p><strong>LinkedIn:</strong> <a
                            href="https://www.linkedin.com/in/sserafimatheus?utm_source=share_via&utm_content=profile&utm_medium=member_android"
                            target="_blank" style="color: var(--primary-color); text-decoration: none;">Perfil
                            LinkedIn</a></p>
                </div>
                <div class="cv-card">
                    <h3>CurrÃ­culo Vitae</h3>
                    <button onclick="window.open('contacts/matheus-serafim/curriculo-matheus-serafim.html')"
                        class="cv-btn">Visualizar CV</button>
                </div>
            </div>
            <div class="contact-grid">
                <div class="contact-card">
                    <h3>Rael Rosenau</h3>
                    <p><strong>Email:</strong> <a href="mailto:rael.202413327@unilasalle.edu.br"
                            style="color: var(--primary-color); text-decoration: none;">ğŸ“§
                            rael.202413327@unilasalle.edu.br</a></p>
                    <p><strong>Telefone:</strong> <a href="https://wa.me/555197320850" target="_blank"
                            style="color: var(--primary-color); text-decoration: none;">ğŸ’¬ (51) 9732-0850</a></p>
                    <p><strong>LinkedIn:</strong> <a href="https://linkedin.com/in/admin" target="_blank"
                            style="color: var(--primary-color); text-decoration: none;">Perfil LinkedIn</a></p>
                </div>
                <div class="cv-card">
                    <h3>CurrÃ­culo Vitae</h3>
                    <button onclick="window.open('contacts/rael-rosenau/curriculo-rael-rosenau.html')"
                        class="cv-btn">Visualizar CV</button>
                </div>
            </div>
        </div>

        <div id="logs-view" class="hidden">
            <div class="logs-container">
                <h3>ğŸ“ˆ Logs de Auditoria</h3>
                <div class="logs-filters">
                    <select id="logFilter">
                        <option value="all">Todos os Logs</option>
                        <option value="commands">Comandos</option>
                        <option value="errors">Falhas</option>
                    </select>
                    <input type="date" id="dateFilter">
                </div>
                <div class="logs-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Data/Hora</th>
                                <th>UsuÃ¡rio</th>
                                <th>AÃ§Ã£o</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="logsTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</body>

</html>